n <- 30
p1 <- 1/3
p2 <- 1/3
p3 <- 1/3

nrep <- 2000
count <- 0
for(i in 1:nrep){
  grP <- rnorm(n*p1, 0, 1)
  grLD <- rnorm(n*p2,0.5 , 1)
  grHD <- rnorm(n*p3, 1, 1)
  
  pvalLD <- t.test(grP, grLD, var.equal=TRUE)$p.value
  pvalHD <- t.test(grP, grHD, var.equal=TRUE)$p.value
  
  if( (pvalLD < 0.05) | (pvalHD < 0.05)) count <- count + 1
}

count/nrep